/*-- scss:defaults --*/

// =============================================================================
// TYPOGRAPHY VARIABLES
// =============================================================================

// Font families using Bootstrap variables
$font-family-sans-serif: "Roboto", system-ui, -apple-system, "Segoe UI", "Helvetica Neue", Arial, sans-serif !default;
$headings-font-family: "Montserrat", $font-family-sans-serif !default;

// Base font settings - consistent across themes
$font-size-base: 1.25rem !default;
$line-height-base: 1.65 !default;

// Line height variables using Bootstrap system
$line-height-sm: 1.25 !default;
$line-height-xs: 1 !default;
$line-height-md: 1.4 !default;

// Heading sizes using Bootstrap's heading scale
$h1-font-size: 2.953rem !default;
$h2-font-size: 2.297rem !default;
$h3-font-size: 1.25rem !default;
$h4-font-size: 1rem !default;
$h5-font-size: 1rem !default;
$h6-font-size: 1rem !default;

// Font weights using Bootstrap variables
$font-weight-normal: 400 !default;
$font-weight-bold: 700 !default;
$headings-font-weight: 400 !default;

// Display font sizes for larger text elements
$display-font-sizes: (
  1: 2rem,
  2: 1.8rem,
  3: 1.5rem,
  4: 1.3125rem
) !default;

// =============================================================================
// COLOR VARIABLES (DARK THEME)
// =============================================================================

// Dark theme colors using Bootstrap color system
$primary: #5c87ff !default;
$body-bg: #282a36 !default;
$body-color: #f8f8f2 !default;
$headings-color: #f8f8f2 !default;

// Text color utilities for dark theme
$text-muted: darken($body-color, 40%) !default;

// Bootstrap color map extensions for dark theme
$grays: (
  "50": #f8f9fa,
  "100": #3a3d4c,
  "700": #333,
  "900": #1e1e1e
) !default;

// Theme colors map for consistent color management
$theme-colors: (
  "primary": $primary,
  "muted": $text-muted
) !default;

// =============================================================================
// COMPONENT VARIABLES
// =============================================================================

// Navigation using Bootstrap navbar variables
$navbar-brand-font-size: 1.575rem !default;
$navbar-dark-bg: map-get($grays, "900") !default;
$navbar-border-radius: 0 !default;
$navbar-padding-y: 0.5rem !default;
$navbar-padding-x: 1rem !default;

// Container using Bootstrap container system
$container-max-widths: (
  xl: 1200px
) !default;

// Spacing using Bootstrap spacer system with calculated values
$spacer: 1rem !default;
$spacer-sm: $spacer * 0.25 !default;  // 0.25rem
$spacer-md: $spacer * 0.5 !default;   // 0.5rem
$spacer-lg: $spacer * 0.75 !default;  // 0.75rem
$spacer-xl: $spacer * 1.25 !default;  // 1.25rem
$spacer-xxl: $spacer * 2 !default;    // 2rem
$spacer-xxxl: $spacer * 3 !default;   // 3rem

// Border variables using Bootstrap system
$border-width: 1px !default;
$border-style: solid !default;
$border-color: map-get($grays, "700") !default;
$border-radius: 0 !default;

// Button variables using Bootstrap system
$btn-border-radius: 0 !default;
$btn-padding-y: .75rem !default;
$btn-padding-x: 1.5rem !default;

// Form variables using Bootstrap form system for dark theme
$input-border-radius: 0 !default;
$form-group-margin-bottom: $spacer !default;
$input-padding-y: .75rem !default;
$input-padding-x: .75rem !default;
$input-bg: #44475a !default;
$input-border-color: #5a5e73 !default;
$input-focus-border-color: lighten($primary, 25%) !default;
$input-focus-box-shadow: 0 0 0 0.2rem rgba($primary, 0.25) !default;

// Transition variables using Bootstrap system with accessibility support
$transition-base: all 0.2s ease !default;
$transition-fade: opacity 0.15s linear !default;
$transition-transform: transform 0.2s ease !default;

// Link variables
$link-decoration: none !default;
$link-hover-decoration: none !default;

// Component sizing variables
$avatar-size-lg: 200px !default;
$icon-size-base: 2rem !default;
$icon-size-sm: 1.5rem !default;

// =============================================================================
// CUSTOM PROJECT VARIABLES
// =============================================================================

// Component-specific sizes using Bootstrap patterns
$portrait-size: $avatar-size-lg;
$nav-link-font-size: 1.0106rem;
$network-icon-size: $icon-size-base; // 2rem - consistent with light theme

/*-- scss:rules --*/

// =============================================================================
// CSS CUSTOM PROPERTIES FOR DARK THEME-SPECIFIC VALUES
// =============================================================================

:root {
  --featured-bg: #{map-get($grays, "100")};
  --icon-color: #{$body-color};
  --navbar-border-color: #{$border-color};
  --text-muted-color: #{$text-muted};
  
  // Animation system with accessibility support
  --hover-transform: scale(1.1);
  --focus-ring-opacity: 0.25;
  --transition-duration: 0.2s;
  --transition-timing: ease;
  
  // Performance optimization
  --contain-layout: layout;
  --contain-style: style;
  
  // Accessibility preferences
  --animation-duration: var(--transition-duration);
  --animation-timing: var(--transition-timing);
}

// Accessibility: Respect user's motion preferences
@media (prefers-reduced-motion: reduce) {
  :root {
    --transition-duration: 0.01ms;
    --animation-duration: 0.01ms;
    --hover-transform: none;
  }
  
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// Accessibility: High contrast support
@media (prefers-contrast: high) {
  :root {
    --focus-ring-opacity: 1;
  }
  
  .navbar .nav-link:focus-visible,
  .portrait-title a:focus-visible,
  .network-icon a:focus-visible,
  .contact-info a:focus-visible {
    outline-width: 3px;
    outline-style: solid;
  }
}

// =============================================================================
// NAVIGATION STYLING
// =============================================================================

.navbar {
  background-color: $navbar-dark-bg;
  border-bottom: $border-width $border-style var(--navbar-border-color);
  padding: $navbar-padding-y $navbar-padding-x;
  contain: var(--contain-layout);
  
  .nav-link {
    font-size: $nav-link-font-size;
    transition: color var(--animation-duration) var(--animation-timing);
    
    &.active,
    &[aria-current="page"] {
      font-weight: $font-weight-bold;
    }
    
    &:hover {
      color: $primary;
    }
    
    &:focus-visible {
      outline: 2px solid $primary;
      outline-offset: 2px;
    }
  }
}

.navbar-brand {
  font-weight: $font-weight-bold;
}

// =============================================================================
// TYPOGRAPHY STYLING
// =============================================================================

h1, h2, h3, h4, h5, h6 {
  font-weight: $headings-font-weight;
}

// =============================================================================
// LAYOUT COMPONENTS
// =============================================================================

// Container max width using Bootstrap map function
.container-fluid,
.page-layout-full .quarto-title-block .quarto-title-banner {
  max-width: map-get($container-max-widths, xl);
  margin-inline: auto;
}

// Remove title from header since we're using custom layout
.quarto-title-block {
  display: none;
}

// =============================================================================
// PORTRAIT AND PROFILE STYLING
// =============================================================================

.portrait {
  width: $portrait-size;
  height: $portrait-size;
  margin-block-end: $spacer-xl;
  margin-inline: auto;
  border-radius: 50%;
  overflow: hidden;
  contain: var(--contain-layout) var(--contain-style);
  
  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
}

.portrait-title {
  text-align: center;
  margin-block-end: $spacer-xl;
  
  h2 {
    font-size: map-get($display-font-sizes, 2); // 1.8rem
    margin-block-end: $spacer-md;
  }
  
  h3 {
    font-size: map-get($display-font-sizes, 4); // 1.3125rem
    line-height: $line-height-sm;
    color: $headings-color;
    margin-block-end: $spacer-sm;
    
    a {
      color: $headings-color;
      text-decoration: $link-decoration;
      transition: color var(--animation-duration) var(--animation-timing);
      
      &:hover {
        color: $primary;
        text-decoration: $link-hover-decoration;
      }
      
      &:focus-visible {
        outline: 2px solid $primary;
        outline-offset: 2px;
      }
    }
  }
}

// =============================================================================
// NETWORK ICONS STYLING
// =============================================================================

.network-icon {
  text-align: center;
  margin-block-end: $spacer-xl;
  
  ul {
    display: flex;
    justify-content: center;
    list-style: none;
    padding: 0;
    margin: 0;
    
    li {
      margin-inline-end: $spacer-lg;
      margin-block-end: $spacer-md;
      
      &:last-child {
        margin-inline-end: 0;
      }
      
      a {
        color: $primary;
        text-decoration: $link-decoration;
        font-size: $network-icon-size;
        transition: color var(--animation-duration) var(--animation-timing),
                   transform var(--animation-duration) var(--animation-timing);
        will-change: transform, color;
        
        &:hover {
          color: lighten($primary, 15%);
          transform: var(--hover-transform);
        }
        
        &:focus-visible {
          outline: 2px solid $primary;
          outline-offset: 2px;
        }
      }
    }
  }
}

// =============================================================================
// CONTENT SECTIONS
// =============================================================================

// Featured Publications section using custom properties
.featured-publications-section {
  background-color: var(--featured-bg);
  padding-block: $spacer-xxxl;
  margin-block: $spacer-xxl;
  contain: var(--contain-style);
}

// =============================================================================
// CONTACT SECTION STYLING
// =============================================================================

.contact-widget {
  margin-block-start: $spacer-xxl;
  
  .grid {
    align-items: flex-start;
  }
}

.contact-info {
  margin-block-start: $spacer;
  
  p {
    display: flex;
    align-items: flex-start;
    margin-block-end: $spacer;
    line-height: $line-height-md;
  }
  
  i {
    color: var(--icon-color);
    margin-inline-end: $spacer-lg;
    min-width: $spacer-xxl;
    display: inline-flex;
    align-items: flex-start;
    justify-content: center;
    flex-shrink: 0;
    margin-block-start: 0.2rem;
    line-height: $line-height-xs;
  }
  
  a {
    color: $primary;
    text-decoration: $link-decoration;
    display: flex;
    align-items: flex-start;
    transition: color var(--animation-duration) var(--animation-timing);
    
    &:hover {
      color: lighten($primary, 10%);
      text-decoration: $link-hover-decoration;
    }
    
    &:focus-visible {
      outline: 2px solid $primary;
      outline-offset: 2px;
    }
  }
  
  .office-hours {
    display: flex;
    align-items: flex-start;
  }
}

// =============================================================================
// FORM STYLING
// =============================================================================

.form-group {
  margin-block-end: $form-group-margin-bottom;
  
  .form-control {
    border-radius: $input-border-radius;
    width: 100%;
    background-color: $input-bg;
    border-color: $input-border-color;
    color: $body-color;
    padding: $input-padding-y $input-padding-x;
    transition: border-color var(--animation-duration) var(--animation-timing),
               box-shadow var(--animation-duration) var(--animation-timing);
    
    &:focus {
      border-color: $input-focus-border-color;
      box-shadow: $input-focus-box-shadow;
    }
    
    &:focus-visible {
      outline: none; // Handled by box-shadow
    }
  }
}

.btn-outline-primary {
  border-radius: $btn-border-radius;
  padding: $btn-padding-y $btn-padding-x;
  transition: all var(--animation-duration) var(--animation-timing);
  
  &:focus-visible {
    box-shadow: 0 0 0 0.2rem rgba($primary, var(--focus-ring-opacity));
  }
} 